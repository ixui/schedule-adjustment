<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.echigoya.springboot.mapper.hoppyMapper">
  <!-- <insert id="insertEvent" parameterType="Event" useGeneratedKeys="true" keyProperty="event_id">
    insert
    into event(event_name,host_num,category_id,place,host_comment)
    values(#{event_name},#{host_num},#{category_id},#{place},#{host_comment})
  </insert>

  <delete id="deleteEvent" parameterType="Event" >
    delete *
    from event
    	inner join candidate_day
    		on event.event_id = candidate_day.event_id
    wnere event_id = #{parameter.event_id}
  </delete>

  <update id="updateEvent" parameterType="Event" >
    update event
    set
    	event_name = #{event_name}
    	and
    		category_id = #{category_id}
    	and
    		place = #{place}
    	and
    		host_comment = #{host_comment}
    wnere event_id = #{parameter.event_id}
  </update>

  <select id="selectEvent" resultType="map">
    select emp_name,emp_num,event_name,category_name,place,host_comment
    	from event
    		inner join employee_master
    			on event.host_num = employee_master.emp_num
    		inner join category_master
    			on event.category_id = category_master.category_id
    	where event_id = #{parameter.event_id}
  </select>
 -->
  <select id="selectEventListNotDevision" resultType="map">
    select
	  *
	from
	   event
  </select>

<!--
  <select id="selectEventListDevision" resultType="map">
    select event_id,event_name,emp_name,decision_day
    	from event
    		inner join employee_master
    			on event.host_num = employee_master.emp_num
    		inner join category_master
    			on event.category_id = category_master.category_id
    	where  exists(select decision_day from event)
    		and
    	order by decision_day desc;
  </select>

   <select id="selectEventEnd" resultType="map">
    select event_id,event_name,emp_name,decision_day
    	from event
    		inner join employee_master
    			on event.host_num = employee_master.emp_num
    		inner join category_master
    			on event.category_id = category_master.category_id
    	where  exists(select decision_day from event)
    		and
    	order by decision_day desc;


  </select>
  -->
</mapper>